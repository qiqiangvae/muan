---
title: 数据库
date: 2022-06-02 18:53:20
permalink: /note/system-architecture/database/
---

# 数据库



## 概念

数据：数据是数据库中存储的基本对象，是描述事物的符号记录。

数据的种类：文本、图形、图像、音频、视频

数据库：是长期存储在计算机内、有组织的、可共享的大量数据的集合。

数据库的基本特征：

1. 数据是按一定数据模型组织、描述、和存储；
2. 可为各种用户共享；
3. 冗余度较小；
4. 数据独立性较高；
5. 易扩展；

数据库系统：

数据库管理系统：

## 三级模式-两级映射

### 三级模式

#### 内模式

管理如何存储物理的数据，对应具体物理存储文件。

#### 概念模式

简称模式，是数据库中的基本表。根据应用、需求将物理数据划分成一张张表。

#### 外模式

对应数据库中的视图这个级别，将表进行一定的处理后再提供给用户使用。

### 两级映射

#### 外模式-模式映像

表和视图之间的映射，存在于概念级和外部级之间，若表中数据发生了修改，只需要修改此映射，而无需修改应用程序。

#### 模式-内模式映像

是表和数据的物理存储之间的映射，存在于概念级和内部级之间，所修改了数据存储方式，只需要修改此映射，而不需要去修改应用程序。

## 数据库设计

### 需求分析

即分析数据存储的要求，产出物有数据流图、数据字典、需求说明书。获得用户对系统的三个要求：信息要求、处理要求、系统要求。

### 概念结构设计

这个阶段是设计 E-R 图，即实体-联系图。工作步骤包括：选择局部应用、逐一设计分 E-R 图、E-R图合并。

分 E-R 图进行合并时，他们之间存在的冲突主要有以下三类：

1. 属性冲突。同一属性可能会存在于不同的分 E-R 图中。
2. 命名冲突。相同意义的属性，在不同的分 E-R 图上有着不同的命名，或者是名称相同的属性在不同的分 E-R 图中代表着不同的意义。
3. 结构冲突。同一实体在不同的分 E-R 图中有着不同的属性，同一对象在某一分 E-R 图中被抽象为实体，而在另一分 E-R 图中又被抽象为属性。

### 逻辑结构设计

将 E-R 图转换成关系模式。工作步骤包括：确定数据模型、将 E-R 图转换成指定的数据模型、确定完整性约束和确定用户视图。

### 物理设计

确定数据分布、存储结构和访问方式。

### 数据库实施阶段

根据逻辑设计和物理设计阶段的结果建立数据库、编制与调式应用程序，组织数据入库，并进行试运行。

### 数据库运行和维护阶段

数据库应用系统经过试运行即可投入运行，但该阶段需要不断地对系统进行评价、调整与修改。

## 数据模型

### 四种数据模型

#### 关系模型

关系模型师二维表的形式表示的实体-联系模型，是将实体-联系模型转换而来的，经开发人员设计的。

#### 概念模型

概念模型是从用户的角度进行建模的，是现实世界到信息世界的第一抽象，是真正的实体-联系模型。

#### 网状模型

网状模型是表示实体类型及其实体之间的联系，一个事物和另外几个都有联系形成一张网。

#### 面向对象模型

面向对象模型是采用面向对象的方法设计数据库，以对象为单位，每个对象包括属性和方法，具有类和继承等特点。

### 数据模型三要素

1. 数据结构。所研究的对象类型的集合；
2. 数据操作。对数据库中的各种对象的实例允许执行的操作集合（一般是增删改查）。
3. 数据的约束条件。一组完整性规则的集合。

### E-R 图

用 E-R 图来描述概念数据模型，世界是由一组称作实体的基本对象和这些对象之间的联系构成的。

在 E-R 模型中，使用椭圆表示属性（一般没有）、长方形表示实体、菱形表示联系、联系的两端要填写联系类型。

#### E-R 模型转换为关系模型

每个实体都对应一个关系模式

一对一联系中，联系可以放在任意的两端实体中，作为一个属性，页可以转换为一个单独的关系模式；

一对N的联系中，联系可以单据作为一个关系模式，也可以在N端中键入一端实体的主键；

M对N的联系中，联系必须作为一个单独的关系模式，其主键是M和N端的联合主键；
