---
title: æœ¬åœ°ä½¿ç”¨OLLAMAæ­å»ºå¤§æ¨¡å‹
createTime: 2024-06-09 10:08:33
permalink: /advancedTechnology/llm/start/
---
# æœ¬åœ°ä½¿ç”¨OLLAMAæ­å»ºå¤§æ¨¡å‹

## ä»€ä¹ˆæ˜¯å¤§æ¨¡å‹

å¤§æ¨¡å‹ï¼ˆLarge Modelï¼‰é€šå¸¸æŒ‡çš„æ˜¯ç”±å¤§é‡å‚æ•°ç»„æˆçš„æœºå™¨å­¦ä¹ æ¨¡å‹ï¼Œç‰¹åˆ«æ˜¯åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ï¼ˆNLPï¼‰é¢†åŸŸï¼Œé€šå¸¸æŒ‡çš„æ˜¯åŸºäºæ·±åº¦å­¦ä¹ çš„ç¥ç»ç½‘ç»œæ¨¡å‹ï¼Œå¦‚GPTï¼ˆGenerative Pre-trained Transformerï¼‰ç³»åˆ—ã€‚ä»¥ä¸‹æ˜¯å¤§æ¨¡å‹çš„ä¸€äº›å…³é”®ç‰¹ç‚¹å’Œå†…å®¹ï¼š

### ç‰¹ç‚¹

1. **å¤§é‡å‚æ•°**ï¼šå¤§æ¨¡å‹é€šå¸¸åŒ…å«æ•°äº¿åˆ°æ•°åƒäº¿ä¸ªå‚æ•°ã€‚è¿™äº›å‚æ•°é€šè¿‡å¤§è§„æ¨¡çš„æ•°æ®é›†è®­ç»ƒï¼Œä½¿æ¨¡å‹èƒ½å¤Ÿæ•æ‰å’Œç”Ÿæˆå¤æ‚çš„è¯­è¨€æ¨¡å¼å’Œç»“æ„ã€‚

2. **å¼ºå¤§çš„è¯­è¨€ç†è§£å’Œç”Ÿæˆèƒ½åŠ›**ï¼šå¤§æ¨¡å‹åœ¨å¤„ç†å„ç§è¯­è¨€ä»»åŠ¡æ—¶è¡¨ç°å‡ºè‰²ï¼Œå¦‚æ–‡æœ¬ç”Ÿæˆã€ç¿»è¯‘ã€æ‘˜è¦ã€é—®ç­”ç­‰ã€‚

3. **é¢„è®­ç»ƒå’Œå¾®è°ƒ**ï¼šå¤§æ¨¡å‹ä¸€èˆ¬å…ˆé€šè¿‡æµ·é‡æ–‡æœ¬æ•°æ®è¿›è¡Œé¢„è®­ç»ƒï¼Œå­¦ä¹ å¹¿æ³›çš„è¯­è¨€çŸ¥è¯†å’Œæ¨¡å¼ï¼Œç„¶åé€šè¿‡å¾®è°ƒï¼ˆfine-tuningï¼‰åœ¨ç‰¹å®šä»»åŠ¡æˆ–é¢†åŸŸæ•°æ®ä¸Šè¿›ä¸€æ­¥ä¼˜åŒ–ã€‚

4. **å¤šåŠŸèƒ½æ€§**ï¼šå¤§æ¨¡å‹å¯ä»¥ç”¨äºå¤šç§ä»»åŠ¡ï¼Œä¸éœ€è¦ä¸ºæ¯ä¸ªä»»åŠ¡å•ç‹¬è®­ç»ƒä¸€ä¸ªæ–°æ¨¡å‹ï¼Œåªéœ€é€šè¿‡è°ƒæ•´æç¤ºè¯æˆ–å¾®è°ƒå³å¯é€‚åº”æ–°ä»»åŠ¡ã€‚

### å‘å±•å†ç¨‹

1. **æ—©æœŸæ¨¡å‹**ï¼šæ—©æœŸçš„è¯­è¨€æ¨¡å‹ï¼Œå¦‚Word2Vecå’ŒGloVeï¼Œä¸»è¦å…³æ³¨è¯å‘é‡çš„è¡¨ç¤ºã€‚

2. **Transformeræ¶æ„**ï¼šTransformeræ¨¡å‹çš„å¼•å…¥æ˜¯ä¸€ä¸ªé‡å¤§çªç ´ã€‚å®ƒåˆ©ç”¨è‡ªæ³¨æ„åŠ›æœºåˆ¶ï¼Œèƒ½å¤Ÿæ›´å¥½åœ°æ•æ‰æ–‡æœ¬ä¸­çš„é•¿è·ç¦»ä¾èµ–å…³ç³»ã€‚

3. **GPTç³»åˆ—**ï¼š
   - GPT-1ï¼šOpenAIå‘å¸ƒçš„ç¬¬ä¸€ä¸ªGPTæ¨¡å‹ï¼Œå±•ç¤ºäº†é€šè¿‡é¢„è®­ç»ƒå’Œå¾®è°ƒè¿›è¡Œæ–‡æœ¬ç”Ÿæˆçš„æ½œåŠ›ã€‚
   - GPT-2ï¼šæ‰©å±•äº†æ¨¡å‹çš„è§„æ¨¡å’Œè®­ç»ƒæ•°æ®é‡ï¼Œæ˜¾è‘—æå‡äº†ç”Ÿæˆæ–‡æœ¬çš„è´¨é‡ã€‚
   - GPT-3ï¼šåŒ…å«1750äº¿ä¸ªå‚æ•°ï¼Œå¤§å¹…æå‡äº†æ¨¡å‹çš„ç”Ÿæˆèƒ½åŠ›å’Œå¤šåŠŸèƒ½æ€§ã€‚
   - GPT-4ï¼šè¿›ä¸€æ­¥æ‰©å±•äº†å‚æ•°è§„æ¨¡å’Œè®­ç»ƒæ•°æ®ï¼Œå¢å¼ºäº†æ¨¡å‹åœ¨å¤šä»»åŠ¡å¤„ç†ä¸­çš„è¡¨ç°ã€‚

### åº”ç”¨é¢†åŸŸ

1. **è‡ªç„¶è¯­è¨€å¤„ç†**ï¼šæ–‡æœ¬ç”Ÿæˆã€ç¿»è¯‘ã€æ‘˜è¦ã€æƒ…æ„Ÿåˆ†æç­‰ã€‚

2. **å¯¹è¯ç³»ç»Ÿ**ï¼šèŠå¤©æœºå™¨äººã€è™šæ‹ŸåŠ©æ‰‹ã€å®¢æˆ·æœåŠ¡ç­‰ã€‚

3. **åˆ›æ„å†™ä½œ**ï¼šæ–‡ç« ã€æ•…äº‹ã€å‰§æœ¬ç”Ÿæˆç­‰ã€‚

4. **æ•™è‚²å’Œç ”ç©¶**ï¼šæä¾›çŸ¥è¯†é—®ç­”ã€è¾…åŠ©å†™ä½œã€è¯­è¨€å­¦ä¹ ç­‰ã€‚

5. **å•†ä¸šå’Œè¥é”€**ï¼šæ–‡æ¡ˆæ’°å†™ã€ä¸ªæ€§åŒ–æ¨èã€æ•°æ®åˆ†æç­‰ã€‚

### æŒ‘æˆ˜å’Œé—®é¢˜

1. **è®¡ç®—èµ„æºéœ€æ±‚**ï¼šå¤§æ¨¡å‹çš„è®­ç»ƒå’Œæ¨ç†éœ€è¦å¤§é‡çš„è®¡ç®—èµ„æºå’Œæ—¶é—´ã€‚

2. **æ•°æ®éšç§å’Œå®‰å…¨**ï¼šä½¿ç”¨å¤§è§„æ¨¡æ•°æ®è¿›è¡Œè®­ç»ƒå¯èƒ½æ¶‰åŠéšç§å’Œæ•°æ®å®‰å…¨é—®é¢˜ã€‚

3. **æ¨¡å‹åè§**ï¼šè®­ç»ƒæ•°æ®ä¸­çš„åè§å¯èƒ½å¯¼è‡´æ¨¡å‹è¾“å‡ºç»“æœä¸­å­˜åœ¨åè§ã€‚

4. **å¯è§£é‡Šæ€§**ï¼šå¤§æ¨¡å‹çš„å†³ç­–è¿‡ç¨‹å¤æ‚ï¼Œéš¾ä»¥è§£é‡Šå…¶ç”Ÿæˆçš„å…·ä½“åŸå› å’Œé€»è¾‘ã€‚

### æœªæ¥å‘å±•

1. **æ¨¡å‹å‹ç¼©å’Œä¼˜åŒ–**ï¼šç ”ç©¶å¦‚ä½•åœ¨ä¿æŒæ€§èƒ½çš„å‰æä¸‹é™ä½æ¨¡å‹è§„æ¨¡å’Œè®¡ç®—éœ€æ±‚ã€‚

2. **æ›´å¥½çš„è®­ç»ƒæ•°æ®å’Œæ–¹æ³•**ï¼šæé«˜æ•°æ®è´¨é‡ï¼Œæ”¹è¿›è®­ç»ƒæ–¹æ³•ï¼Œå‡å°‘åè§å’Œæé«˜æ¨¡å‹çš„é²æ£’æ€§ã€‚

3. **å¤šæ¨¡æ€æ¨¡å‹**ï¼šç»“åˆæ–‡æœ¬ã€å›¾åƒã€éŸ³é¢‘ç­‰å¤šç§æ•°æ®ç±»å‹ï¼Œæå‡æ¨¡å‹çš„ç»¼åˆç†è§£å’Œç”Ÿæˆèƒ½åŠ›ã€‚

é€šè¿‡äº†è§£å¤§æ¨¡å‹çš„ç‰¹ç‚¹ã€åº”ç”¨å’ŒæŒ‘æˆ˜ï¼Œå¯ä»¥æ›´å¥½åœ°åˆ©ç”¨è¿™äº›å…ˆè¿›çš„æŠ€æœ¯ï¼Œå®ç°å„ç§å®é™…åº”ç”¨ä¸­çš„åˆ›æ–°å’Œæ”¹è¿›ã€‚

## ä½¿ç”¨ OLLAMA æ­å»ºå¤§æ¨¡å‹

### ç¯å¢ƒå‡†å¤‡

1. æœ‰ä¸€å°æ€§èƒ½ä¸å·®çš„ç”µè„‘ï¼ŒOLLAMA æ¨èé…ç½®å¦‚ä¸‹ï¼Œè‡³å°‘éœ€è¦ 8G çš„ RAMï¼š
   ![ZMyLFo](https://qiqiang.oss-cn-hangzhou.aliyuncs.com/muan/ZMyLFo.png)
2. å‡†å¤‡ docker ç¯å¢ƒï¼Œå¯å‚è€ƒæ•™ç¨‹ [dockeråŸºæœ¬ä½¿ç”¨](/advancedTechnology/cloudNative/d3cfc6)ï¼›


### æ­å»º OLLAMA
[ollama å®˜æ–¹ç½‘ç«™](https://ollama.com/)
```
https://ollama.com
```

[ollama docker ç½‘ç«™](https://hub.docker.com/r/ollama/ollama)
```
https://hub.docker.com/r/ollama/ollama
```

ä½¿ç”¨ docker å®‰è£… OLLAMA
```shell
docker run -d -v ~/.ollama:/root/.ollama -p 11434:11434 --name ollama ollama/ollama
Unable to find image 'ollama/ollama:latest' locally
latest: Pulling from ollama/ollama
a8b1c5f80c2d: Pull complete
7110e83425ad: Pull complete
d73d7155397d: Pull complete
Digest: sha256:6363c5da064b02b5a1d15dbd1205c652e01c0e57accbfd831115e35a3efe0572
Status: Downloaded newer image for ollama/ollama:latest
8eb905b0e7b0bba918095d2c5eed669bda3b9d67ac947c77eef18ceae475ed0f
```

å› ä¸ºåŸºç¡€æ¨¡å‹é•œåƒæ¯”è¾ƒå¤§ï¼Œæ‰€ä»¥å»ºè®®ä½¿ç”¨æŒ‚è½½å·çš„æ–¹å¼å°† OLLAMA ä¸‹è½½çš„æ¨¡å‹æŒ‚è½½åˆ°å®¿ä¸»æœºçš„`~/.ollama`ç›®å½•ä¸‹ï¼Œè¿™æ ·åé¢å¤šæ¬¡æŠ˜è…¾ä¸‹è½½æ•°æ®ä¼šå¿«ä¸€äº›ã€‚

å¯åŠ¨å®Œæˆä¹‹åï¼Œå¯ä»¥åœ¨æµè§ˆå™¨æ‰“å¼€`http://127.0.0.1:11434`ï¼Œæˆ–è€…åœ¨ç»ˆç«¯è¾“å…¥

```shell
curl http://127.0.0.1:11434
Ollama is running                                                                                                        
```

å¯ä»¥çœ‹åˆ° OLLAMA å¯åŠ¨æˆåŠŸäº†ã€‚

ä¹Ÿå¯ä»¥æŸ¥çœ‹æœ¬æœºçš„å±€åŸŸç½‘ IP æ˜¯å¤šå°‘ï¼Œæ–¹ä¾¿åé¢éƒ¨ç½² Open-WebUI ä½¿ç”¨ã€‚

```shell
ifconfig|grep 192
	inet 192.168.1.3 netmask 0xffffff00 broadcast 192.168.1.255
	inet 192.168.31.62 netmask 0xffffff00 broadcast 192.168.31.255
	inet 192.168.64.1 netmask 0xffffff00 broadcast 192.168.64.255
```

```shell
curl http://192.168.1.3:11434
Ollama is running                                                                                                        
```

### è¿è¡Œå¤§æ¨¡å‹

è¿›å…¥ Docker å®¹å™¨å†…éƒ¨

```
docker exec -it ollama bash
```

æ‰“å¼€ [ollama ç½‘ç«™](https://ollama.com/search?q=&p=1&sort=popular)æœç´¢éœ€è¦è¿è¡Œçš„å¤§æ¨¡å‹ï¼Œæˆ‘ä»¬å·² llama3 ä¸ºä¾‹ï¼Œè¿›è¡Œä¸‹è½½ã€‚

![vqDuIr](https://qiqiang.oss-cn-hangzhou.aliyuncs.com/muan/vqDuIr.png)

å¤åˆ¶å‘½ä»¤`ollama run llama3`ï¼Œä¹Ÿå¯ä»¥æ ¹æ®é…ç½®ä¸‹è½½ä¸åŒå‚æ•°çš„å¤§æ¨¡å‹ã€‚

ä¸‹è½½è¿‡ç¨‹éœ€è¦ä¸€äº›æ—¶é—´ï¼Œæ¯•ç«Ÿæ–‡ä»¶è¿˜æ˜¯æŒºå¤§çš„ï¼Œå¤§æ¨¡å‹å‚æ•°è¶Šå¤§ï¼Œé•œåƒè¶Šå¤§ã€‚

```
ollama run llama3
pulling manifest
pulling 6a0746a1ec1a... 100% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ– 4.7 GB
pulling 4fa551d4f938... 100% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  12 KB
pulling 8ab4849b038c... 100% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  254 B
pulling 577073ffcc6c... 100% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  110 B
pulling 3f8eb4da87fa... 100% â–•â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–  485 B
verifying sha256 digest
writing manifest
removing any unused layers
success
>>> Send a message (/? for help)
```

æ­¤æ—¶å°±å¯ä»¥å’Œ llama3 èŠå¤©äº†ã€‚

```
>>> ä½ æ˜¯è°
I am LLaMA, an AI assistant developed by Meta AI that can understand and respond to human input in a conversational
manner. I'm not a human, but a computer program designed to simulate conversation and answer questions to the best
of my ability based on my training data. I can generate human-like text responses to your questions or prompts, and
engage in natural-sounding conversations. My primary function is to assist users with information and tasks, and to
provide helpful and accurate responses. I'm constantly learning and improving, so please bear with me if I make any
mistakes or don't fully understand what you're asking. ğŸ˜Š

>>> å¯ä»¥ç”¨ä¸­æ–‡å’Œæˆ‘èŠå¤©å—
ğŸ˜Š

å¯ä»¥ï¼æˆ‘ä¹Ÿèƒ½ä½¿ç”¨ä¸­æ–‡ä¸ä½ èŠå¤©ã€‚è¯·éšæ—¶æå‡ºä½ çš„é—®é¢˜æˆ–æƒ³æ³•ï¼Œæˆ‘å°†å°½åŠ›å›ç­”å’Œè®¨è®ºã€‚

ï¼ˆNote: Although I'm capable of understanding and responding in Chinese, my proficiency may vary depending on the
complexity and nuance of the topic. If you're unsure about something or want me to clarify a point, please don't
hesitate to ask!ï¼‰
```

å¯ä»¥çœ‹åˆ°ï¼Œllama3 å¯¹ä¸­æ–‡å¹¶ä¸æ˜¯å¾ˆç†Ÿæ‚‰ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥ä½¿ç”¨é˜¿é‡Œå·´å·´å¼€æºçš„åƒé—®2å¤§æ¨¡å‹ï¼ˆqwen2ï¼‰ã€‚

### æ­å»º Open-WebUI

[Open-WebUI å®˜æ–¹ç½‘ç«™](https://openwebui.com/)

[Open-WebUI Github](https://github.com/open-webui/open-webui#troubleshooting)

åœ¨ç»ˆç«¯æ‰§è¡Œå‘½ä»¤

```shell
docker run -d -p 3000:8080 -v ~/.open-webui:/app/backend/data --name open-webui --restart always ghcr.io/open-webui/open-webui:main
128ae8d335f61476d51f40d1f3bc88e9ae2b136cfd7a5fae0e42412e254f7f3c
```

æµè§ˆå™¨æ‰“å¼€`http://localhost:3000`ï¼Œä¼šè¿›å…¥ç™»å½•ç•Œé¢ï¼Œæ­¤æ—¶éœ€è¦æ³¨å†Œä¸€ä¸ªè´¦å·ï¼Œç¬¬ä¸€ä¸ªæ³¨å†Œçš„è´¦å·æ˜¯ç®¡ç†å‘˜è´¦å·ã€‚

çœ‹ä¸‹æé—®é¢æ¿

![LLnH8i](https://qiqiang.oss-cn-hangzhou.aliyuncs.com/muan/LLnH8i.png)

### æ­å»º MaxKB

MaxKB æ˜¯ä¸€æ¬¾åŸºäº LLM å¤§è¯­è¨€æ¨¡å‹çš„çŸ¥è¯†åº“é—®ç­”ç³»ç»Ÿã€‚MaxKB = Max Knowledge Baseï¼Œæ—¨åœ¨æˆä¸ºä¼ä¸šçš„æœ€å¼ºå¤§è„‘ã€‚

å¼€ç®±å³ç”¨ï¼šæ”¯æŒç›´æ¥ä¸Šä¼ æ–‡æ¡£ã€è‡ªåŠ¨çˆ¬å–åœ¨çº¿æ–‡æ¡£ï¼Œæ”¯æŒæ–‡æœ¬è‡ªåŠ¨æ‹†åˆ†ã€å‘é‡åŒ–ã€RAGï¼ˆæ£€ç´¢å¢å¼ºç”Ÿæˆï¼‰ï¼Œæ™ºèƒ½é—®ç­”äº¤äº’ä½“éªŒå¥½ï¼›
æ— ç¼åµŒå…¥ï¼šæ”¯æŒé›¶ç¼–ç å¿«é€ŸåµŒå…¥åˆ°ç¬¬ä¸‰æ–¹ä¸šåŠ¡ç³»ç»Ÿï¼›
å¤šæ¨¡å‹æ”¯æŒï¼šæ”¯æŒå¯¹æ¥ä¸»æµçš„å¤§æ¨¡å‹ï¼ŒåŒ…æ‹¬ Ollama æœ¬åœ°ç§æœ‰å¤§æ¨¡å‹ï¼ˆå¦‚ Meta Llama 3ã€qwen ç­‰ï¼‰ã€é€šä¹‰åƒé—®ã€OpenAIã€Azure OpenAIã€Kimiã€æ™ºè°± AIã€è®¯é£æ˜Ÿç«å’Œç™¾åº¦åƒå¸†å¤§æ¨¡å‹ç­‰ã€‚


```shell
docker run -d --name=maxkb -p 8081:8080 -v ~/.maxkb:/var/lib/postgresql/data 1panel/maxkb
```