<!doctype html><html lang="en-US"><head><meta charset="utf-8" /><meta name="viewport" content="width=device-width,initial-scale=1" /><meta name="generator" content="VuePress 2.0.0-rc.18" /><meta name="theme" content="VuePress Theme Plume " /><script id="check-mac-os">document.documentElement.classList.toggle('mac', /Mac|iPhone|iPod|iPad/i.test(navigator.platform))</script><script id="check-dark-mode">;(function () {const um= localStorage.getItem('vuepress-theme-appearance') || 'auto';const sm = window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches;const isDark = um === 'dark' || (um !== 'light' && sm);document.documentElement.dataset.theme = isDark ? 'dark' : 'light';})();</script><title>计算机硬件 | 作草分茶</title><meta name="description" content="作草分茶的生活和技术的记录"><link rel="preload" href="/assets/style-D8SJQLQ7.css" as="style"><link rel="stylesheet" href="/assets/style-D8SJQLQ7.css"><link rel="modulepreload" href="/assets/app-C-1nbDAo.js"><link rel="modulepreload" href="/assets/index.html-B1bBFJZk.js"></head><body><div id="app"><!--[--><!--[--><div class="theme-plume vp-layout" vp-container data-v-10308273><!--[--><!--[--><!--]--><!--[--><span tabindex="-1" data-v-0ea03461></span><a href="#VPContent" class="vp-skip-link visually-hidden" data-v-0ea03461> Skip to content </a><!--]--><!----><header class="vp-nav" data-v-10308273 data-v-52b8b9c2><div class="vp-navbar" vp-navbar data-v-52b8b9c2 data-v-06b854e9><div class="wrapper" data-v-06b854e9><div class="container" data-v-06b854e9><div class="title" data-v-06b854e9><div class="vp-navbar-title has-sidebar" data-v-06b854e9 data-v-37578852><a class="vp-link no-icon link title" href="/" data-v-37578852 data-v-92574703><!--[--><!--[--><!--]--><!----><span data-v-37578852>作草分茶</span><!--[--><!--]--><!--]--><!----></a></div></div><div class="content" data-v-06b854e9><div class="content-body" data-v-06b854e9><!--[--><!--]--><div class="vp-navbar-search search" data-v-06b854e9><div class="search-wrapper" data-v-3902acc4><!----><div id="local-search" data-v-3902acc4><button type="button" class="mini-search mini-search-button" aria-label="Search" data-v-3902acc4><span class="mini-search-button-container"><svg class="mini-search-search-icon" width="20" height="20" viewBox="0 0 20 20" aria-label="search icon"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="mini-search-button-placeholder">Search</span></span><span class="mini-search-button-keys"><kbd class="mini-search-button-key"></kbd><kbd class="mini-search-button-key">K</kbd></span></button></div></div></div><nav aria-labelledby="main-nav-aria-label" class="vp-navbar-menu menu" data-v-06b854e9 data-v-725f336b><span id="main-nav-aria-label" class="visually-hidden" data-v-725f336b>Main Navigation</span><!--[--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>首页</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/dev/soft-and-web/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>开发技术</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/java/toolUsage/79030a/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>Java</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/advanced/cloudNative/d3cfc7/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>前沿技术</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/linux/db53d7/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>Linux</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link" href="/middleware/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>中间件</span><!--]--><!----></a><!--]--><!--[--><a class="vp-link no-icon link navbar-menu-link active" href="/note/systemArchitecture/hardware/" tabindex="0" data-v-725f336b data-v-7f0d67fb data-v-92574703><!--[--><!----><span data-v-7f0d67fb>学习笔记</span><!--]--><!----></a><!--]--><!--]--></nav><!----><div class="vp-navbar-appearance appearance" data-v-06b854e9 data-v-f835b784><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-f835b784 data-v-55afe581 data-v-a5a2da98><span class="check" data-v-a5a2da98><span class="icon" data-v-a5a2da98><!--[--><span class="vpi-sun sun" data-v-55afe581></span><span class="vpi-moon moon" data-v-55afe581></span><!--]--></span></span></button></div><!----><div class="vp-flyout vp-navbar-extra extra" data-v-06b854e9 data-v-bcfc2c7f data-v-1ca5f939><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-1ca5f939><span class="vpi-more-horizontal icon" data-v-1ca5f939></span></button><div class="menu" data-v-1ca5f939><div class="vp-menu" data-v-1ca5f939 data-v-c0f1acc0><!----><!--[--><!--[--><!----><div class="group" data-v-bcfc2c7f><div class="item appearance" data-v-bcfc2c7f><p class="label" data-v-bcfc2c7f>Appearance</p><div class="appearance-action" data-v-bcfc2c7f><button class="vp-switch vp-switch-appearance" type="button" role="switch" title aria-checked="false" data-v-bcfc2c7f data-v-55afe581 data-v-a5a2da98><span class="check" data-v-a5a2da98><span class="icon" data-v-a5a2da98><!--[--><span class="vpi-sun sun" data-v-55afe581></span><span class="vpi-moon moon" data-v-55afe581></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="vp-navbar-hamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="nav-screen" data-v-06b854e9 data-v-9e2013c4><span class="container" data-v-9e2013c4><span class="top" data-v-9e2013c4></span><span class="middle" data-v-9e2013c4></span><span class="bottom" data-v-9e2013c4></span></span></button></div></div></div></div><div class="divider" data-v-06b854e9><div class="divider-line" data-v-06b854e9></div></div></div><!----></header><div class="vp-local-nav reached-top is-blog" data-v-10308273 data-v-1e249c68><button class="menu" aria-expanded="false" aria-controls="SidebarNav" data-v-1e249c68><span class="vpi-align-left menu-icon" data-v-1e249c68></span><span class="menu-text" data-v-1e249c68>Menu</span></button><div class="vp-local-nav-outline-dropdown" style="--vp-vh:0px;" data-v-1e249c68 data-v-ec1aef76><button data-v-ec1aef76>Return to top</button><!----></div></div><aside class="vp-sidebar" vp-sidebar data-v-10308273 data-v-5ffa159e><div class="curtain" data-v-5ffa159e></div><nav id="SidebarNav" class="nav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-5ffa159e><span id="sidebar-aria-label" class="visually-hidden" data-v-5ffa159e> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-88ce4e2c><section class="vp-sidebar-item sidebar-item level-0 collapsible has-active" data-v-88ce4e2c data-v-44570768><div class="item" role="button" tabindex="0" data-v-44570768><div class="indicator" data-v-44570768></div><!----><h2 class="text" data-v-44570768>系统架构师</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-44570768><span class="vpi-chevron-right caret-icon" data-v-44570768></span></div></div><div class="items" data-v-44570768><!--[--><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/note/systemArchitecture/hardware/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>计算机硬件</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/note/system-architecture/operating-system/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>操作系统</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/note/system-architecture/database/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>数据库</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/note/system-architecture/flushbonading/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>嵌入式</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/note/system-architecture/network/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>计算机网络</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/article/pl8l75g2/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>系统配置与性能评价</p><!--]--><!----></a><!----></div><!----></div><div class="vp-sidebar-item sidebar-item level-1 is-link" data-v-44570768 data-v-44570768><div class="item" data-v-44570768><div class="indicator" data-v-44570768></div><!----><a class="vp-link no-icon link link" href="/article/29r8vpuc/" data-v-44570768 data-v-92574703><!--[--><p class="text" data-v-44570768>信息系统基础知识</p><!--]--><!----></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><!--[--><div id="VPContent" vp-content class="vp-content has-sidebar" data-v-10308273 data-v-95f8217e><div class="has-sidebar has-aside vp-doc-container" data-v-9ceb7141><!--[--><!--]--><div class="container" data-v-9ceb7141><div class="aside" vp-outline data-v-9ceb7141><div class="aside-curtain" data-v-9ceb7141></div><div class="aside-container" data-v-9ceb7141><div class="aside-content" data-v-9ceb7141><div class="vp-doc-aside" data-v-9ceb7141 data-v-4f638d94><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="vp-doc-aside-outline" role="navigation" data-v-4f638d94 data-v-1f59b605><div class="content" data-v-1f59b605><div class="outline-marker" data-v-1f59b605></div><div id="doc-outline-aria-label" aria-level="2" class="outline-title" role="heading" data-v-1f59b605><span data-v-1f59b605>On this page</span><span class="vpi-print icon" data-v-1f59b605></span></div><ul class="root" data-v-1f59b605 data-v-61e9c594><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-4f638d94></div><!--[--><!--]--></div></div></div></div><div class="content" data-v-9ceb7141><div class="content-container" data-v-9ceb7141><!--[--><!--]--><main class="main" data-v-9ceb7141><nav class="vp-breadcrumb" data-v-9ceb7141 data-v-69e0b9e4><ol vocab="https://schema.org/" typeof="BreadcrumbList" data-v-69e0b9e4><!--[--><li property="itemListElement" typeof="ListItem" data-v-69e0b9e4><a class="vp-link no-icon link breadcrumb" href="/" property="item" typeof="WebPage" data-v-69e0b9e4 data-v-92574703><!--[-->Home<!--]--><!----></a><span class="vpi-chevron-right" data-v-69e0b9e4></span><meta property="name" content="Home" data-v-69e0b9e4><meta property="position" content="1" data-v-69e0b9e4></li><li property="itemListElement" typeof="ListItem" data-v-69e0b9e4><span class="vp-link no-icon breadcrumb" href="/" property="item" typeof="WebPage" data-v-69e0b9e4 data-v-92574703><!--[-->系统架构师<!--]--><!----></span><span class="vpi-chevron-right" data-v-69e0b9e4></span><meta property="name" content="系统架构师" data-v-69e0b9e4><meta property="position" content="2" data-v-69e0b9e4></li><li property="itemListElement" typeof="ListItem" data-v-69e0b9e4><a class="vp-link no-icon link breadcrumb current" href="/note/systemArchitecture/hardware/" property="item" typeof="WebPage" data-v-69e0b9e4 data-v-92574703><!--[-->计算机硬件<!--]--><!----></a><!----><meta property="name" content="计算机硬件" data-v-69e0b9e4><meta property="position" content="3" data-v-69e0b9e4></li><!--]--></ol></nav><!--[--><h1 class="vp-doc-title page-title" data-v-ea202df4>计算机硬件 <!----></h1><div class="vp-doc-meta" data-v-ea202df4><p class="reading-time" data-v-ea202df4><span class="vpi-books icon" data-v-ea202df4></span><span data-v-ea202df4>About 2788 words</span><span data-v-ea202df4>About 9 min</span></p><!----><p class="create-time" data-v-ea202df4><span class="vpi-clock icon" data-v-ea202df4></span><span data-v-ea202df4>2023-06-21</span></p></div><!--]--><div class="_note_systemArchitecture_hardware_ external-link-icon-enabled vp-doc plume-content" vp-content data-v-9ceb7141><div data-v-9ceb7141><h2 id="cpu" tabindex="-1"><a class="header-anchor" href="#cpu"><span>CPU</span></a></h2><h3 id="运算器" tabindex="-1"><a class="header-anchor" href="#运算器"><span>运算器</span></a></h3><p>执行所有的算术运算，如加减乘除等；执行所有的逻辑运算并进行逻辑测试，如与、或、非、比较；</p><ol><li>算数逻辑单元ALU（Arithmetic Logic Unit），实现对数据的算术和逻辑运算，；</li><li>累加寄存器AC（Accumulator register），运算结果或源操作数的存放区；</li><li>数据缓冲寄存器DR（Data Register），暂时存放内存的指令或数据；</li><li>状态条件寄存器PSW（Program Status Word），保存指令运行结果的条件码内容，如溢出标志；</li></ol><h3 id="控制器" tabindex="-1"><a class="header-anchor" href="#控制器"><span>控制器</span></a></h3><p>CPU依据指令周期的不同阶段来区分二进制的指令和数据，因为在指令周期的不同阶段，指令会命令CPU去取指令或数据。</p><ol><li>程序计数器PC（Program Counter），具有寄存信息和计数两种功能，一般用来存放下一条指令在主存储器中的地址；</li><li>指令寄存器IR（Instruction Register），暂存CPU当前要执行指令；</li><li>指令译码器ID（Instruction Decoder），分析和解析操作码；</li><li>地址寄存器AR（Address Register），保存当前CPU所访问的内存地址；</li></ol><h2 id="校验码" tabindex="-1"><a class="header-anchor" href="#校验码"><span>校验码</span></a></h2><h3 id="码距" tabindex="-1"><a class="header-anchor" href="#码距"><span>码距</span></a></h3><p>码距指单个编码如A：00只需要改变一位就会变成另一个编码，那么它的码距就是1。在两个编码中，从A码变为B码所需要改变的位数成为码距。</p><p>如编码<code>00</code>变为编码<code>11</code>，其码距为 2。一半来说，码距越大，越利于纠错和检错。</p><h3 id="奇偶校验码" tabindex="-1"><a class="header-anchor" href="#奇偶校验码"><span>奇偶校验码</span></a></h3><p>如果一个编码中有奇数个 1，那么就是奇校验，反之则是偶校验。奇偶校验码的码距为 2，因为本身有一位是错误，导致校验码也错误，所以码距为 2。</p><p>奇偶校验码只能检错不能纠错。</p><h3 id="crc" tabindex="-1"><a class="header-anchor" href="#crc"><span>CRC</span></a></h3><p>原始编码为A<code>1100</code>，多项式如下</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>G</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mn>3</mn><mo>+</mo><mi>x</mi><mo>+</mo><mn>1</mn></mrow><annotation encoding="application/x-tex"> G(x)=x3+x+1 </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">G</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mord">3</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6667em;vertical-align:-0.0833em;"></span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">1</span></span></span></span></span></p><p>求编码A的 CRC</p><p>多项式的最高位是 3，那么 R=3，在编码A后面补 3 个 0，可以确定被除数是<code>1100000</code>。根据多项式中 x 的位数，确定除数是<code>1011</code>。将<code>1100000</code> 除以<code>1011</code>（即做异或运算）</p><img src="https://qiqiang.oss-cn-hangzhou.aliyuncs.com/muan/UdV7yk.jpg" alt="UdV7yk" style="zoom:25%;"><p>算出来之后是<code>10</code>，因为 R=3，所以需要在前面补一个 0 即<code>010</code>，那么最终的 CRC 校验码为<code>1100010</code></p><h2 id="指令系统" tabindex="-1"><a class="header-anchor" href="#指令系统"><span>指令系统</span></a></h2><p>一条计算机指令由<strong>操作码</strong>和<strong>操作数</strong>两部分组成，操作码决定要完成的操作，操作数指参加运算的数据及其所在的单元地址。</p><p>计算机执行执行的过程：取指令 -&gt; 分析指令 -&gt; 执行指令。</p><p>首先将程序计数器PC中的指令地址取出，送入地址总线，CPU 根据指令地址去内存中取出指令内容存入指令寄存器 IR，然后由指令译码器进行分析指令操作码，最后执行指令，取出指令执行所需要的源操作数。</p><h3 id="指令寻址方式" tabindex="-1"><a class="header-anchor" href="#指令寻址方式"><span>指令寻址方式</span></a></h3><ul><li>立即寻址方式：指令的地址码存在不是地址，而是操作数本身；</li><li>直接寻址方式：指令的地址码存的是操作数在主存中的地址；</li><li>间接寻址方式：指令的地址码存的是操作数的地址（饶了一次）；</li><li>寄存器寻址方式：指令的地址码存在是寄存器的编号；</li><li>基址寻址方式：</li><li>变址寻址方式：</li></ul><h3 id="指令系统类型" tabindex="-1"><a class="header-anchor" href="#指令系统类型"><span>指令系统类型</span></a></h3><table><thead><tr><th>指令系统类型</th><th>指令</th><th>寻址方式</th><th>实现方式</th><th>其它</th></tr></thead><tbody><tr><td>CISC（复杂指令系统）</td><td>数量多，使用频率差别打，可变长格式</td><td>支持多种</td><td>微程序控制技术</td><td>研制周期长；以 Intel、AMD 的 x86CPU 为代码</td></tr><tr><td>RISC（精简指令系统）</td><td>数量少，使用频率接近，定长格式</td><td>支持方式少</td><td>增加了通用寄存器；硬布线逻辑控制为主，适合采用流水线</td><td>优化编译，有效支持高级语言；以 ARM 和 Power 为代表</td></tr></tbody></table><h4 id="指令流水线" tabindex="-1"><a class="header-anchor" href="#指令流水线"><span>指令流水线</span></a></h4><h5 id="指令流水线原理" tabindex="-1"><a class="header-anchor" href="#指令流水线原理"><span>指令流水线原理</span></a></h5><p>将指令分为不同的段，每段由不同的部分去处理，不同指令的取址分析和执行可以同时执行，因此可以产生叠加效果。</p><h5 id="指令流水线技术" tabindex="-1"><a class="header-anchor" href="#指令流水线技术"><span>指令流水线技术</span></a></h5><ol><li>超流水线技术：细化流水，比如一个流水线本来是3段，可以分为6段执行，以时间换空间；</li><li>超标量技术：增加硬件，以空间换时间；</li><li>超长指令字技术：通过软件，以空间换时间；</li></ol><h5 id="相关公式" tabindex="-1"><a class="header-anchor" href="#相关公式"><span>相关公式</span></a></h5><ol><li><p>流水线周期：指令分为不同执行段，其中<strong>执行段最长的时间</strong>为流水线周期；</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>m</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>m</mi><mi>a</mi><mi>x</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> m(x)=max(x) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">ma</span><span class="mord mathnormal">x</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>流水线执行时间：公式为：<strong>1 条指令总执行时间 + (总指令数 - 1) * 流水线周期</strong></p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>t</mi><mo stretchy="false">(</mo><mi>x</mi><mo separator="true">,</mo><mi>y</mi><mo stretchy="false">)</mo><mo>=</mo><mi>g</mi><mo stretchy="false">(</mo><mi>y</mi><mo stretchy="false">)</mo><mo>+</mo><mo stretchy="false">(</mo><mi>x</mi><mo>−</mo><mn>1</mn><mo stretchy="false">)</mo><mo>∗</mo><mi>m</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> t(x,y)=g(y)+(x-1)*m(x) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.03588em;">g</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">1</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">∗</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">m</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p></li><li><p>流水线吞吐率计算：吞吐率即单位时间内执行指令的条数，公式为<strong>指令条数 / 流水线执行时间</strong>。</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>r</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>x</mi><mi mathvariant="normal">/</mi><mi>t</mi></mrow><annotation encoding="application/x-tex"> r(x)=x/t </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02778em;">r</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">x</span><span class="mord">/</span><span class="mord mathnormal">t</span></span></span></span></span></p></li><li><p>流水线的加速比：公式为：<strong>不使用流水线执行时间/使用流水线执行时间</strong>。</p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>f</mi><mn>3</mn><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mn>1</mn><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mi mathvariant="normal">/</mi><mi>f</mi><mn>2</mn><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> f3(x)=f1(x)/f2(x) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">3</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">1</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mord">2</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p></li></ol><h2 id="存储系统" tabindex="-1"><a class="header-anchor" href="#存储系统"><span>存储系统</span></a></h2><p>计算机采用分级存储主要是为了解决存储容量、成本和速度之间的矛盾。</p><h3 id="高速存储-cache" tabindex="-1"><a class="header-anchor" href="#高速存储-cache"><span>高速存储 Cache</span></a></h3><p>高速存储 Cache 用来存储当前最活跃的程序和数据，容量小，直接与 CPU 交互，速度是主存的 5 -10 倍，由半导体材料构成。其内容是主存的副本拷贝。</p><p>Cache 由控制部分和存储器组成，存储器存储数据，控制部分判断 CPU 要访问的数据是否在 Cache 中，如果命中则返回，没有命中则从主存中获取。</p><p>在 CPU 工作时，送出的是主存单元地址，而应从 Cache 存储器中读写信息，此时需要将主存地址转换为 Cache 存储器地址。这种地址转换被称为地址映射，由<strong>硬件自动完成</strong>，由如下三种方式：</p><ol><li>直接映射；</li><li>全相联映射；</li><li>组相联映射（1,2组合）；</li></ol><p>三种方式按照块冲突概率从高到低排序是，1,3,2；</p><h4 id="替换算法" tabindex="-1"><a class="header-anchor" href="#替换算法"><span>替换算法</span></a></h4><ul><li>随机替换算法</li><li>先进先出算法</li><li>近期最少使用算法</li><li>优化替换算法</li></ul><h3 id="局部性原理" tabindex="-1"><a class="header-anchor" href="#局部性原理"><span>局部性原理</span></a></h3><p>空间局部性原理：相邻的地址可能会被访问，比如数组；</p><p>时间局部性原理：相近的时间内，同一个地址可能会被再次访问；</p><h3 id="磁盘" tabindex="-1"><a class="header-anchor" href="#磁盘"><span>磁盘</span></a></h3><p>磁盘有正反两个盘面，每个盘面有多个同心圆，每个同心圆是一个磁道，每个同心圆又被分为多个扇区，数据存放在扇区中。</p><p>磁盘有一个参数叫转速，指的是每秒转动的次数。磁头首先要寻找到对应的磁道，然后等待磁盘进行周期旋转，旋转到指定的扇区才能读取对应的数据。所以有如下存取时间公式：<strong>存取时间 = 寻道时间 + 等待时间</strong></p><p class="katex-block"><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mrow><mi>t</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>=</mo><mi>f</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo><mo>+</mo><mi>w</mi><mo stretchy="false">(</mo><mi>x</mi><mo stretchy="false">)</mo></mrow><annotation encoding="application/x-tex"> t(x)=f(x)+w(x) </annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal">t</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.10764em;">f</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mopen">(</span><span class="mord mathnormal">x</span><span class="mclose">)</span></span></span></span></span></p><p>寻道时间指磁头移动到磁道所需要的时间；等待时间指数据所在扇区转动到磁头下方所用的时间。</p><h4 id="磁盘调度算法" tabindex="-1"><a class="header-anchor" href="#磁盘调度算法"><span>磁盘调度算法</span></a></h4><ul><li>先来先服务 FCFS：根据进程请求访问磁盘的先手顺序进行调度；</li><li>最短寻道时间有限 SSTF：找到离当前所在磁道最近的进行调度，如果当前磁头所在磁道为 5，现在需要有 1,3,6 三个磁道需要访问，虽然 6 在最后，但是会优先调度到第 6 磁道。这种算法可能会导致 1 永远无法调度；</li><li>单项扫描调度算法 SCAN：磁头按照一个方向一直移动，直到无法移动再掉头。</li><li>扫描算法 CSCAN：扫描算法又称为电梯算法，磁头可以双向移动，磁头会选择当前磁道最近的磁道访问，按照这个方向扫描，直到没有请求才会掉头。这个调度就跟电梯类型，电梯会朝着一个方向移动，直到所有的楼层都到了才会掉头。</li></ul><h2 id="输入输出技术" tabindex="-1"><a class="header-anchor" href="#输入输出技术"><span>输入输出技术</span></a></h2><h3 id="内存与接口地址独立编址方法" tabindex="-1"><a class="header-anchor" href="#内存与接口地址独立编址方法"><span>内存与接口地址独立编址方法</span></a></h3><h3 id="内存与接口地址统一编址方法" tabindex="-1"><a class="header-anchor" href="#内存与接口地址统一编址方法"><span>内存与接口地址统一编址方法</span></a></h3><h3 id="计算机与外设数据交互方式" tabindex="-1"><a class="header-anchor" href="#计算机与外设数据交互方式"><span>计算机与外设数据交互方式</span></a></h3><ul><li>程序控制（查询）方式：CPU 主动查询外设是否完成数据传输（轮询），效率极低；</li><li>程序中断方式：外设完成数据传输之后，向 CPU 发送中断信号，等待 CPU 处理数据，此方式效率相对较高。<strong>中断响应时间</strong>指的是从发出中断请求到开始进入中断处理程序之间的耗时。<strong>中断处理时间</strong>指的是从中断处理开始到中断处理结束的耗时。<strong>中断向量</strong>提供中断服务程序的入口地址。多级中断嵌套，使用堆栈来保护断点和现场；</li><li>DMA 方式（直接存储访问）：CPU 只需要完成必要的初始化等操作，数据传输的整个过程都由 DMA 控制器来完成，在主存和外设之间建立直接的数据通道，效率很高；</li></ul><p>在一个总线周期结束之后，CPU 会响应 DMA 请求开始读取数据；CPU 响应程序中断方式请求是在一条指令执行结束时读取数据；</p><h3 id="总线" tabindex="-1"><a class="header-anchor" href="#总线"><span>总线</span></a></h3><p>总线指计算机设备和设备之间传输信息的公共数据通道，总线是连接计算机硬件系统内多种设备的通信线路，它的一个重要特征是由总线上的所有设备共享，因此可以将计算机系统内的多种设备连接到总线上。</p><h4 id="总线分类" tabindex="-1"><a class="header-anchor" href="#总线分类"><span>总线分类：</span></a></h4><ul><li>内部总线：内部芯片级别的总线，芯片与处理器之间的通信总线；</li><li>系统总线：是板级总线，用于计算机内各部分之间的连接，具体分为（重点考的）： <ul><li>数据总线：并行数据传输位数；</li><li>地址总线：系统可管理的内存空间大小</li><li>控制总线：传送控制命令</li></ul></li><li>外部总线：微机和外部设备的总线，如 USB；</li></ul><h4 id="单工、半双工、全双工" tabindex="-1"><a class="header-anchor" href="#单工、半双工、全双工"><span>单工、半双工、全双工</span></a></h4><ul><li>单工：数据传输只在一个方向上传输，方向是固定的，不能实现双向通信；</li><li>半双工：半双工传输方向可以切换，允许数据在两个方向上传输。但是某个时刻，只允许数据在一个方向上传输，可以基本双向通信；</li><li>全双工：全双工允许数据同时在两个方向传输，发送和接收完全独立，在发送的同时可以接收信号，或者在接收的同时可以发送。它要求发送和接收设备都要有独立的发送和接收能力；</li></ul></div><!----><!----><!----></div></main><footer class="vp-doc-footer" data-v-9ceb7141 data-v-7ff12213><!--[--><!--]--><!----><div class="contributors" aria-label="Contributors" data-v-7ff12213><span class="contributors-label" data-v-7ff12213>Contributors: </span><span class="contributors-info" data-v-7ff12213><!--[--><!--[--><span class="contributor" data-v-7ff12213>qiqiang</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-7ff12213>Quince</span><!--[-->, <!--]--><!--]--><!--[--><span class="contributor" data-v-7ff12213>qiqiang</span><!----><!--]--><!--]--></span></div><nav class="prev-next" data-v-7ff12213><div class="pager" data-v-7ff12213><!----></div><div class="pager" data-v-7ff12213><a class="vp-link no-icon link pager-link next" href="/note/system-architecture/operating-system/" data-v-7ff12213 data-v-92574703><!--[--><span class="desc" data-v-7ff12213>Next page</span><span class="title" data-v-7ff12213>操作系统</span><!--]--><!----></a></div></nav></footer><!----><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><!--]--><button style="display:none;" type="button" class="vp-back-to-top" aria-label="back to top" data-v-10308273 data-v-40f0a6f0><span class="percent" data-allow-mismatch data-v-40f0a6f0>0%</span><span class="show icon vpi-back-to-top" data-v-40f0a6f0></span><svg aria-hidden="true" data-v-40f0a6f0><circle cx="50%" cy="50%" data-allow-mismatch style="stroke-dasharray:calc(0% - 12.566370614359172px) calc(314.1592653589793% - 12.566370614359172px);" data-v-40f0a6f0></circle></svg></button><footer class="vp-footer has-sidebar" vp-footer data-v-10308273 data-v-60114dd7><!--[--><div class="container" data-v-60114dd7><p class="message" data-v-60114dd7>Powered by <a target="_blank" href="https://v2.vuepress.vuejs.org/">VuePress</a> & <a target="_blank" href="https://theme-plume.vuejs.press">vuepress-theme-plume</a></p><!----></div><!--]--></footer><!--[--><!--]--><!--]--></div><!----><!--]--><!--[--><!--]--><!--]--></div><script type="module" src="/assets/app-C-1nbDAo.js" defer></script></body></html>